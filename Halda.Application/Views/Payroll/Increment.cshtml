@{
    ViewData["Title"] = "Home";
    Layout = "_LayoutAdmin";
}

<style>
    .table-container {
        width: 80%;
        margin: 0 auto;
    }

    .custom-icon {
        cursor: pointer;
        margin-left: 10px;
    }

    .row-group {
        background-color: #f7f7f7;
        font-weight: bold;
        display: flex;
        justify-content: space-between;
        padding-right: 20px;
    }

        .row-group > .tabulator-cell {
            border-bottom: none;
        }
</style>

<div class="container-fluid rounded-4 border border-muted p-2 mt-2">
    
    <div class="row mx-0" style="background-color: #FFFFFF; border-radius: 5px; box-shadow: 0px 0px 10px 0px #0000000D;">
        <div class="mt-3 d-flex justify-content-between">
            <h6>Increment & Promotion Details:</h6>
            <button type="button" class="btn  " style="background-color: #4AA147; color: #ffffff; border-color: #4AA147; padding: 6px 18px; font-size: 16px;">Increment & Promotion</button>
        </div>
        <div class="row mt-3">
            <div class="col-6 d-flex align-content-center">
                <div class="input-group me-2" style="border-radius: 8px; width: 800px; border: 1px solid #D0D5DD; background: #FAFAFAED; box-shadow: 0px 1px 2px 0px rgba(16, 24, 40, 0.05); padding: 3px 5px;">
                    <input type="text" class="form-control border-0 shadow-none" placeholder="Search" aria-label="Search" style="background: transparent;">
                    <span class="input-group-text bg-transparent border-0" style="display: flex; align-items: center;">
                        <img alt="search" src="/User/img/search.png" width="20" style="height: auto;">
                    </span>
                </div>
                <label for="criteria" class="custom-label fs-6 mt-1 pt-2 me-2">Type: </label>
                <select class="form-select my-1" id="criteria" style="">
                    <option selected="">Individual </option>
                    <option value="active">Active Employees</option>
                    <option value="inactive">Inactive Employees</option>
                    <option value="on_leave">Employees on Leave</option>
                    <option value="terminated">Terminated Employees</option>
                </select>
            </div>
            <div class=" col-6 d-flex justify-content-end align-items-end gap-2">


                <div class="pdf-upload-print-css">
                    <img alt="calendar" src="/User/img/pdf.png" width="30px">
                </div>
                <div class="pdf-upload-print-css">
                    <img alt="calendar" src="/User/img/upload-trans.png" width="30px">
                </div>
                <div class="pdf-upload-print-css">
                    <img alt="calendar" src="/User/img/printer (1).png" width="30px">
                </div>
            </div>
            
        </div>

        <div>
            <div id="example-table"></div>
        </div>

    </div>


</div>

<script>
    document.addEventListener("DOMContentLoaded", function() {
        var tabledata = [
            {group: "Robin Mia - GTRC114", type: "Increment with Promotion", date: "28 Sep 2023", amount: 2500, action: ""},
            {group: "Robin Mia - GTRC114", type: "Promotion", date: "28 Sep 2023", amount: 0, action: ""},
            {group: "Robin Mia - GTRC114", type: "Adjustment", date: "28 Sep 2023", amount: 2000, action: ""},
            {group: "Kamrul Islam - GTRC114", type: "Increment with Promotion", date: "28 Sep 2023", amount: 1000, action: ""},
            {group: "Kamrul Islam - GTRC114", type: "Promotion", date: "28 Sep 2023", amount: 1000, action: ""},
            {group: "Kamrul Islam - GTRC114", type: "Adjustment", date: "28 Sep 2023", amount: 2000, action: ""},
            {group: "Borhan Uddin - Siuu07", type: "Increment with Promotion", date: "28 Sep 2023", amount: 1000, action: "" },
            {group: "Borhan Uddin - Siuu07", type: "Promotion", date: "28 Sep 2023", amount: 1000, action: "" },
            {group: "Borhan Uddin - Siuu07", type: "Adjustment", date: "28 Sep 2023", amount: 2000, action: "" },
        ];

        // Initialize Tabulator
        var table = new Tabulator("#example-table", {
            data: tabledata,
            layout: "fitColumns",
            columns: [
                {title: "Group", field: "group", visible: false},
                {title: "Type", field: "type"},
                {title: "Date", field: "date", hozAlign: "center"},
                {title: "Amount", field: "amount", hozAlign: "center"},
                {
                    title: "Action", field: "action", hozAlign: "center", formatter: function(){
                        return '<i class="fa-regular me-3 fa-pen-to-square"></i> <i class="fa-solid fa-trash"></i>';
                    }
                }
            ],
            groupBy: "group",
            groupHeader: function(value, count, data) { //create custom header for the group
                return value;
            },
            rowFormatter: function(row){
                // Add custom class for group rows
                if(row.getData().group){
                    row.getElement().classList.add("row-group");
                }
            }
        });
    });
</script>